var app = angular.module('app', ['ui.router']);

app.config(function($stateProvider, $urlRouterProvider) {
	$urlRouterProvider.otherwise('/home');
	
	$stateProvider
	.state('home', {
        url: '/home',
        templateUrl: 'views/home.html',
        controller : 'home'
    })
	.state('software', {
        url: '/software',
        templateUrl: 'views/software.html',
        controller : 'software'
    })
	.state('inprogress', {
        url: '/inprogress',
        templateUrl: 'views/inprogress.html',
        controller : 'inprogress'
    })
	.state('categories', {
        url: '/categories',
        templateUrl: 'views/categories.html',
        controller : 'categories'
    })
	.state('contactus', {
        url: '/contactus',
        templateUrl: 'views/contactus.html',
        controller : 'contactus'
    })
	.state('search', {
        url: '/search',
        templateUrl: 'views/search.html'
    })

	.state('product/:id', {
        url: '/product/:id/:title',
        templateUrl: 'views/single-product.html',
        controller : 'singleproduct'
    })

    .state('notfound', {
        url: '/notfound',
        templateUrl: 'views/notfound.html'
    })
});
app.run(['$rootScope', 'Products', function($rscp, p){
	$rscp.imgUrl = p.getImgUrl();
}])
.directive('loaderimg', function($timeout) {
    return {
        restrict:'A',
        scope: {},
        link: function(scope, elem, attrs) {
            $timeout(function(){ elem.attr('src', attrs.llSrc) });
        },
    };
});
